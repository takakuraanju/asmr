import{i as z,a as H,r as h,j as J,k as K,w as Q,o as d,l as c,f as s,n as V,e as o,d as e,t as v,m as Y,q as R,s as D,F as Z,p as j,h as X,u as ee,v as oe,x as G,b as a,g as M,c as se,y as te}from"./index-cd727391.js";/* empty css                */import{E as ae,a as ne,b as le,c as re}from"./el-header-1d2025f5.js";import{E as ie,a as ue,b as de}from"./el-menu-item-d145e432.js";import"./el-tooltip-1e4c83a7.js";import"./el-popper-fbb9bc05.js";import{E as ce}from"./el-input-36601334.js";import{E as pe}from"./el-button-c450cffe.js";/* empty css                */import{E as ve}from"./el-progress-93ca5aab.js";import{E as me}from"./el-image-viewer-074c4d42.js";import{f as O}from"./format-9da1629e.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import{e as _e,s as fe,d as he,u as ke,c as ye,o as ge,f as Se,m as xe,a as we,b as Ce,g as Te,h as be,E as Pe}from"./index-5e133581.js";import"./index-87008c54.js";import"./error-f1912ce6.js";import"./index-44440405.js";const y=S=>(j("data-v-67378e9e"),S=S(),X(),S),Ee={class:"cover"},Me={class:"embedded-icon"},Ne=y(()=>o("use",{"xlink:href":"#icon-xialada"},null,-1)),$e=[Ne],Ie=y(()=>o("use",{"xlink:href":"#icon-diandiandianshu"},null,-1)),Le=[Ie],Be={class:"embedded-icon"},We=y(()=>o("use",{"xlink:href":"#icon-kuaitui"},null,-1)),Ue=[We],Ae=y(()=>o("use",{"xlink:href":"#icon-kuaijin"},null,-1)),De=[Ae],Ve={class:"play-progress"},Fe={class:"file-name ellipsisMultiLine"},Ye={class:"work-title ellipsis"},Re={class:"control"},Ge=y(()=>o("svg",{class:"symbol-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-guanlishipin"})],-1)),Oe=y(()=>o("use",{"xlink:href":"#icon-play-previous"},null,-1)),ze=[Oe],He=["onClick"],je={key:0,"xlink:href":"#icon-play"},Xe={key:1,"xlink:href":"#icon-pause"},qe=y(()=>o("use",{"xlink:href":"#icon-play-next"},null,-1)),Je=[qe],Ke=y(()=>o("svg",{class:"symbol-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-xunhuanbofang"})],-1)),Qe={class:"volume"},Ze=y(()=>o("use",{"xlink:href":"#icon-sound-off"},null,-1)),eo=[Ze],oo=y(()=>o("use",{"xlink:href":"#icon-sound-on"},null,-1)),so=[oo],to={class:"title"},ao={class:"ellipsis"},no={class:"ellipsis"},lo={class:"control"},ro=y(()=>o("svg",{class:"symbol-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-play-previous"})],-1)),io=["onClick"],uo={key:0,"xlink:href":"#icon-play"},co={key:1,"xlink:href":"#icon-pause"},po=y(()=>o("svg",{class:"symbol-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-play-next"})],-1)),vo=["src","type"],mo=["src","type"],_o=["src","type"],fo={__name:"AudioPlayer",setup(S){const r=z(),u=H(),g=h(["audio/ogg","audio/mpeg","audio/wav"]),w=h(30),t=h(),E=h(""),T=h(""),b=h(0),x=h(90),L=h(!0),B=()=>{t.value.paused===!1?t.value.pause():t.value.play()},N=i=>{i==="next"&&r.playIndex!=r.playList.length-1?r.setPlayIndex(r.playIndex+1):i==="previous"&&r.playIndex!=0&&r.setPlayIndex(r.playIndex-1)},k=()=>{r.setPlayrPosition("broadside")},W=()=>{r.setPlayrPosition("underside"),L.value=!1},n=()=>{u.push({path:"/"}),u.push({path:`/asmr/work/${r.audio.workId}`})},m=i=>{i==="forward"?t.value.currentTime+w.value>t.value.duration?t.value.currentTime=t.value.duration:t.value.currentTime+=w.value:i==="backward"&&(t.value.currentTime-w.value<0?t.value.currentTime=0:t.value.currentTime-=w.value),t.value.play()},U=i=>{i==="max"?(x.value=100,t.value.volume=1):i==="min"&&(x.value=0,t.value.volume=0)},A=(i,l)=>{$(i,l);const p=i.currentTarget,C=P=>{$(P,l)},_=P=>{$(P,l),p.removeEventListener("mousemove",C),p.removeEventListener("mouseup",_),p.removeEventListener("mouseleave",I)},I=()=>{p.removeEventListener("mousemove",C),p.removeEventListener("mouseup",_),p.removeEventListener("mouseleave",I)};p.addEventListener("mousemove",C),p.addEventListener("mouseup",_),p.addEventListener("mouseleave",I)},$=(i,l)=>{i.target.className!=="draggableBtn"&&(l==="play"?(b.value=i.layerX/i.currentTarget.clientWidth*100,t.value.currentTime=i.layerX/i.currentTarget.clientWidth*t.value.duration):l==="volume"&&(x.value=i.layerX/i.currentTarget.clientWidth*100,t.value.volume=i.layerX/i.currentTarget.clientWidth))};J(()=>{t.value.addEventListener("timeupdate",()=>{t.value.currentTime&&t.value.duration?(E.value=O(t.value.currentTime),T.value=O(t.value.duration),b.value=t.value.currentTime/t.value.duration*100):(E.value=="00:00",T.value=="00:00",b.value=0)}),t.value.addEventListener("ended",()=>{t.value.pause(),N("next")}),t.value.volume=.9,t.value.load(),t.value.play()});const F=K(()=>r.audio);return Q(F,()=>{t.value.load(),t.value.play()}),(i,l)=>{const p=me,C=ve;return d(),c(Z,null,[s(r).playrPosition!="none"?(d(),c("div",{key:0,class:V(["broadside-player",s(r).playrPosition=="broadside"?"fade-in":"fade-out"])},[o("div",Ee,[e(p,{class:"img",fit:"cover",src:s(r).audio.coverSrc},null,8,["src"]),o("div",Me,[(d(),c("svg",{class:"symbol-icon","aria-hidden":"true",onClick:W},$e)),(d(),c("svg",{class:"symbol-icon","aria-hidden":"true",onClick:n},Le))]),o("div",Be,[(d(),c("svg",{class:"symbol-icon","aria-hidden":"true",onClick:l[0]||(l[0]=_=>m("backward"))},Ue)),(d(),c("svg",{class:"symbol-icon","aria-hidden":"true",onClick:l[1]||(l[1]=_=>m("forward"))},De))])]),o("div",Ve,[o("div",null,v(E.value),1),o("div",{class:"progress",onMousedown:l[2]||(l[2]=_=>A(_,"play"))},[e(C,{"text-inside":!0,"stroke-width":8,percentage:b.value,color:"#00b3ff"},null,8,["percentage"]),o("div",{class:"draggableBtn",style:Y({left:`${b.value}%`})},null,4)],32),o("div",null,v(T.value),1)]),o("div",Fe,v(s(r).audio.name),1),o("div",Ye,v(s(r).audio.workName),1),o("div",Re,[Ge,(d(),c("svg",{class:"symbol-icon","aria-hidden":"true",onClick:l[3]||(l[3]=_=>N("previous"))},ze)),(d(),c("svg",{class:"symbol-icon","aria-hidden":"true",onClick:R(B,["stop"])},[t.value&&t.value.paused?(d(),c("use",je)):(d(),c("use",Xe))],8,He)),(d(),c("svg",{class:"symbol-icon","aria-hidden":"true",onClick:l[4]||(l[4]=_=>N("next"))},Je)),Ke]),o("div",Qe,[o("div",null,[(d(),c("svg",{class:"symbol-icon","aria-hidden":"true",onClick:l[5]||(l[5]=_=>U("min"))},eo))]),o("div",{class:"progress",onMousedown:l[6]||(l[6]=_=>A(_,"volume"))},[e(C,{class:"progress","text-inside":!0,"stroke-width":8,percentage:x.value},null,8,["percentage"]),o("div",{class:"draggableBtn",style:Y({left:`${x.value}%`})},null,4)],32),o("div",null,[(d(),c("svg",{class:"symbol-icon","aria-hidden":"true",onClick:l[7]||(l[7]=_=>U("max"))},so))])])],2)):D("",!0),s(r).playrPosition!="none"&&!L.value?(d(),c("div",{key:1,class:V(["underside-player",s(r).playrPosition=="underside"?"fade-in":"fade-out"]),onClick:k},[o("div",null,[e(p,{class:"cover",fit:"cover",src:s(r).audio.coverSrc},null,8,["src"]),o("div",to,[o("div",ao,v(s(r).audio.name),1),o("div",no,v(s(r).audio.workName),1)]),o("div",lo,[ro,(d(),c("svg",{class:"symbol-icon","aria-hidden":"true",onClick:R(B,["stop"])},[t.value&&t.value.paused?(d(),c("use",uo)):(d(),c("use",co))],8,io)),po])])],2)):D("",!0),o("audio",{autoplay:"",class:"audio",ref_key:"audioRef",ref:t},[s(r).audio.extension==="OGG"?(d(),c("source",{key:0,src:s(r).audio.path,type:g.value[0]},null,8,vo)):s(r).audio.extension==="MP3"?(d(),c("source",{key:1,src:s(r).audio.path,type:g.value[1]},null,8,mo)):s(r).audio.extension==="WAV"?(d(),c("source",{key:2,src:s(r).audio.path,type:g.value[2]},null,8,_o)):D("",!0)],512)],64)}}},ho=q(fo,[["__scopeId","data-v-67378e9e"]]),ko=()=>({year:"年",month:"月",day:"日",search:"搜索",reset:"重置",all:"全部",keyword:"关键词",backgroundManagementPage:"HARMONY VENUE 后台管理页面",personalCenter:"个人中心",state:"状态",normal:"正常",deleted:"已删除",userName:"用户名",profile:"介绍",circle:"社团",genre:"分类",voiceover:"声优",userGroup:"用户组",registrationDate:"注册日期",admin:"管理员",user:"普通用户",userManage:"用户管理",circleManage:"社团管理",workManage:"作品管理",genreManage:"分类管理",voiceoverManage:"声优管理",commentManage:"留言管理",goToTheFrontEnd:"前往前端",userProfile:"用户简介",userAvatar:"用户头像",userPsd:"用户密码",addUser:"添加用户",editUser:"编辑用户",workName:"作品名",releaseDate:"发售日期",workProfile:"作品简介",workLink:"作品链接",storageLocation:"存储位置",workCircle:"作品社团",workGenre:"作品分类",workVoiceover:"作品声优",workDirectory:"作品目录",workCover:"作品封面",addWork:"添加作品",editWork:"编辑作品",circleName:"社团名称",circleProfile:"社团简介",addCircle:"添加社团",editCircle:"编辑社团",genreName:"分类名称",genreProfile:"分类简介",addGenre:"添加分类",editGenre:"编辑分类",voiceoverName:"声优名称",voiceoverProfile:"声优简介",addVoiceover:"添加声优",editVoiceover:"编辑声优",enterTheUserName:"请输入用户名",enterTheUserNameOrId:"请输入用户名或ID",enterTheUserPassword:"请输入用户密码",enterTheUserProfile:"请输入用户简介",selectTheUserGroup:"请选择用户组",enterTheWorkName:"请输入作品名",enterTheWorkProfile:"请输入作品简介",enterTheWorkLink:"请输入作品链接",selectTheWorkReleaseDate:"请选择发售日期",enterTheCircleName:"请输入社团名称",enterTheCircleProfile:"请输入社团简介",enterTheGenreName:"请输入分类名称",enterTheGenreProfile:"请输入分类简介",enterTheVoiceoverName:"请输入声优名称",enterTheVoiceoverProfile:"请输入声优简介",enterTheReleaseDate:"请输入发售日期",selectTheDirectory:"请选择作品目录",selectTheCircle:"请选择社团",theCircleNameMustBeBetween1And20Characters:"社团名必须是 1-20位 的字符",theUserNameMustBeBetween4And20Characters:"用户名必须是 4-20位 的字符",theWorkNameMustBeBetween1And255Characters:"作品名必须是 1-255位 的字符",notSupportedForOver2000Words:"不支持2000字以上",usernameOrIdIsTooLong:"用户名或ID过长",userNameCannotBeAPureNumber:"用户名不可以为纯数字",formValidationFailed:"表单验证失败",successfullyEdited:"编辑成功",successfullyAdded:"添加成功",successfullyOperation:"操作成功",successfullyDeleted:"删除成功",successfullyLogin:"登录成功",worksCanOnlyHaveOneCircle:"作品有且仅能有一个社团",thePasswordMustBeBetween6And20Characters:"密码必须是 6-20位 的非空字符",enterThePasswordAgain:"请确认用户密码",theTwoPasswordsEnteredDoNotMatch:"两次输入密码不一致",successfullyUpdatedPassword:"更新密码成功",updatedPassword:"更新密码",newPassword:"新密码",enterTheNewPassword:"请输入新密码",searchKeywords:"搜索关键词",optional:"可选项",selected:"已选项",toBeUploaded:"待上传",selectFolder:"选择文件夹",reSelectFolder:"重新选择文件夹",noIntroductionProvided:"没有填写介绍",noData:"没有数据",areYouSureYouWantToDeleteThisCircle:"你确定要删除该社团么",areYouSureYouWantToDeleteThisGenre:"你确定要删除该分类么",areYouSureYouWantToDeleteThisVoiceover:"你确定要删除该声优么",areYouSureYouWantToDeleteThisWork:"你确定要删除该作品么",areYouSureYouWantToDeleteThisUser:"你确定要删除该用户么",createDate:"创建日期",updateTime:"更新时间",releaseTime:"发布时间",workEvaluation:"作品评价",discussionHeat:"讨论热度",allWorkSp:"全 部 作 品",myPageSp:"我 的 主 页",collectSp:"收 藏",circleSp:"社 团",genreSp:"分 类",voiceoverSp:"声 优",sleepModeSp:"睡 眠 模 式",nightModeSp:"夜 间 模 式",dayModeSp:"日 间 模 式",switchLanguageSp:"切 换 日 语",settingSp:"设 定",exitAccountSp:"退 出 登 录",register:"注册",login:"登录",logout:"登出",changeAvatar:"更改头像",changePsd:"更改密码",changeProfile:"更改资料",root:"根目录",searchTerm:"搜索项",reply:"回复",operate:"操作",prompt:"提示",return:"返回",ok:"确认",cancel:"取消",serverFailure:"服务器故障"});const yo=S=>(j("data-v-c5ec0fa6"),S=S(),X(),S),go={class:"common-layout"},So=yo(()=>o("div",{class:"footer-placeholder"},null,-1)),xo={__name:"UserLayoutContainer",setup(S){const r=z(),u=ee(),g=H(),w=h(!0),t=h(!0),E=h(""),T=h(!1),b=h(),x=h(),L=()=>{T.value=!0,E.value=u.searchStr},B=()=>{T.value=!1,u.searchStr!=E.value&&g.push("/")},N=async()=>{u.removeToken(),u.setUser({}),g.push("/login")},k=W=>{switch(Number(W)){case 1:x.value.$el.click(),u.setSearchStr(""),g.push({path:"/"});break;case 2:g.push({path:"/asmr/home"});break;case 3:break;case 4:g.push({path:"/asmr/circle"});break;case 5:g.push({path:"/asmr/genre"});break;case 6:g.push({path:"/asmr/voiceover"});break;case 7:break;case 8:break;case 9:u.language==="zhCn"?(u.setLanguage("ja"),u.setCharSet(te()),console.log("语言变更：日文")):u.language==="ja"&&(u.setLanguage("zhCn"),u.setCharSet(ko()),console.log("语言变更：中文"));break;case 10:break;case 11:N();break}};return oe("goHome",()=>{x.value.$el.click()}),(W,n)=>{const m=Pe,U=G("router-link"),A=pe,$=ce,F=ne,i=ie,l=ue,p=le,C=de,_=G("router-view"),I=re,P=ae;return d(),c("div",go,[e(P,null,{default:a(()=>[e(F,{class:"header"},{default:a(()=>[o("div",null,[o("div",null,[e(m,{size:28,class:"icon",onClick:n[0]||(n[0]=f=>t.value=!t.value)},{default:a(()=>[e(s(_e))]),_:1}),e(U,{to:"/",class:"title",onClick:n[1]||(n[1]=f=>k(1))},{default:a(()=>[M(" HARMONY VENUE ")]),_:1})]),e($,{modelValue:s(u).searchStr,"onUpdate:modelValue":n[2]||(n[2]=f=>s(u).searchStr=f),size:"large",class:V(["search",T.value?"searchFocus":""]),onFocus:L,onBlur:B,ref_key:"inputRef",ref:b},{append:a(()=>[e(A,{style:{padding:"5px 15px"}},{default:a(()=>[e(m,{size:20},{default:a(()=>[e(s(fe))]),_:1})]),_:1})]),_:1},8,["modelValue","class"])])]),_:1}),e(P,null,{default:a(()=>[e(p,{class:V(["aside",t.value?"aside-fade-in":"aside-fade-out"]),width:"collapse"},{default:a(()=>[e(C,{size:"500px",class:"menu","default-active":"1",collapse:w.value,onMouseenter:n[13]||(n[13]=f=>w.value=!1),onMouseleave:n[14]||(n[14]=f=>w.value=!0)},{default:a(()=>[e(p,{class:"menu-son",width:"collapse"},{default:a(()=>[e(i,{index:"1",onClick:n[3]||(n[3]=f=>k(1))},{title:a(()=>[e(m,null,{default:a(()=>[e(s(he))]),_:1}),o("span",null,v(s(u).charSet.allWorkSp),1)]),_:1}),e(l,{index:"2",onClick:n[4]||(n[4]=f=>k(2))},{title:a(()=>[M(v(s(u).charSet.myPageSp),1)]),default:a(()=>[e(m,null,{default:a(()=>[e(s(ke))]),_:1})]),_:1}),e(l,{index:"3",onClick:n[5]||(n[5]=f=>k(3)),disabled:""},{title:a(()=>[M(v(s(u).charSet.collectSp),1)]),default:a(()=>[e(m,null,{default:a(()=>[e(s(ye))]),_:1})]),_:1}),e(l,{index:"4",onClick:n[6]||(n[6]=f=>k(4))},{title:a(()=>[M(v(s(u).charSet.circleSp),1)]),default:a(()=>[e(m,null,{default:a(()=>[e(s(ge))]),_:1})]),_:1}),e(l,{index:"5",onClick:n[7]||(n[7]=f=>k(5))},{title:a(()=>[M(v(s(u).charSet.genreSp),1)]),default:a(()=>[e(m,null,{default:a(()=>[e(s(Se))]),_:1})]),_:1}),e(l,{index:"6",onClick:n[8]||(n[8]=f=>k(6))},{title:a(()=>[M(v(s(u).charSet.voiceoverSp),1)]),default:a(()=>[e(m,null,{default:a(()=>[e(s(xe))]),_:1})]),_:1}),e(i,{index:"9",onClick:n[9]||(n[9]=f=>k(9))},{title:a(()=>[e(m,null,{default:a(()=>[e(s(we))]),_:1}),o("span",null,v(s(u).charSet.switchLanguageSp),1)]),_:1})]),_:1}),e(p,{class:"menu-son",width:"collapse"},{default:a(()=>[e(i,{index:"7",onClick:n[10]||(n[10]=f=>k(7)),disabled:""},{title:a(()=>[e(m,null,{default:a(()=>[e(s(Ce))]),_:1}),o("span",null,v(s(u).charSet.sleepModeSp),1)]),_:1}),e(i,{index:"8",onClick:n[11]||(n[11]=f=>k(8)),disabled:""},{title:a(()=>[e(m,null,{default:a(()=>[e(s(Te))]),_:1}),o("span",null,v(s(u).charSet.nightModeSp),1)]),_:1}),e(i,{index:"11",onClick:n[12]||(n[12]=f=>k(11))},{title:a(()=>[e(m,null,{default:a(()=>[e(s(be))]),_:1}),o("span",null,v(s(u).charSet.exitAccountSp),1)]),_:1}),e(l,{index:"12",ref_key:"menuItenRef",ref:x,class:"lastMenu"},null,512)]),_:1})]),_:1},8,["collapse"])]),_:1},8,["class"]),e(P,{class:"layout-container"},{default:a(()=>[e(I,{class:"layout-main"},{default:a(()=>[e(_),So]),_:1})]),_:1})]),_:1}),s(r).audio?(d(),se(ho,{key:0})):D("",!0)]),_:1})])}}},Fo=q(xo,[["__scopeId","data-v-c5ec0fa6"]]);export{Fo as default};
